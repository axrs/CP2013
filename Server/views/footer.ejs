</div><!--/.fluid-container-->
<div id="push"></div>

</div>
<div id="footer">
    <div class="container">
        <p class="muted credit">CP2013 | Alexander Scott, Melinda Kingsun, Timothy Hart.</p>
    </div>
</div>
<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/bootstrap-timepicker.min.js"></script>

<script src="/js/bootstrap-datepicker.js"></script>

<script src='/js/jquery-ui-1.10.3.custom.min.js'></script>
<script src='/js/fullcalendar.min.js'></script>

<script>

    $(document).ready(function () {
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd'
        });
        $('.timepicker').timepicker({
            defaultTime: 'value',
            minuteStep: 15,
            showInputs: false,
            disableFocus: true,
            template: 'dropdown',
            showMeridian: false
        });


        if ($('#calendar').length > 0) {
            var date = new Date();
            var d = date.getDate();
            var m = date.getMonth();
            var y = date.getFullYear();

            $('#calendar').fullCalendar({
                defaultView: 'agendaWeek',
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: ''
                },
                editable: false,
                columnFormat: {
                    month: 'ddd',
                    week: 'ddd d',
                    day: ''
                },
                events: function (start, end, callback) {
                    var startString = start.toISOString().substring(0, 10).replace('T', ' ');
                    var endString = end.toISOString().substring(0, 10).replace('T', ' ');
                    $.ajax({

                        url: '/api/staff/1/available/'+startString +'/' + endString,
                        success: function (doc) {
                            var events = [];
                            $(doc).each(function () {
                                events.push({
                                    title: $(this).attr('title'),
                                    start: $(this).attr('start'),
                                    end: $(this).attr('end'),
                                    allDay: $(this).attr('allDay')
                                });
                            });
                            callback(events);
                        }
                    });
                }

            });
        }

    });
</script>
</body>
</html>
